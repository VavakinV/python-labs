{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    <title>Редактировать задание</title>
</head>
<body class="edit-assignment">
    <h1>Редактировать задание</h1>

    <form method="POST">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="vehicle">Транспортное средство:</label>
            <select name="vehicle" id="vehicle" required>
                {% for vehicle in vehicles %}
                    <option value="{{ vehicle.id }}" {% if vehicle.id == assignment.vehicle.id %}selected{% endif %}>
                        {{ vehicle }}
                    </option>
                {% endfor %}
            </select>
        </div>
    
        <div class="form-group">
            <label for="driver">Водитель:</label>
            <select name="driver" id="driver" required>
                {% for driver in drivers %}
                    <option value="{{ driver.id }}" {% if driver.id == assignment.driver.id %}selected{% endif %}>
                        {{ driver.first_name }} {{ driver.last_name }}
                    </option>
                {% endfor %}
            </select>
        </div>
    
        <div class="form-group">
            <label for="assignment_date">Дата назначения:</label>
            <input type="date" id="assignment_date" name="assignment_date" value="{{ assignment.assignment_date }}" required>
        </div>
    
        <div class="form-group">
            <label for="return_date">Дата возврата:</label>
            <input type="date" id="return_date" name="return_date" value="{{ assignment.return_date|default:'' }}">
        </div>
    
        <button type="submit">Сохранить изменения</button>
    </form>
    
    <br>
    <a href="{% url 'assignments' %}">
        <button>Назад к списку заданий</button>
    </a>
</body>
</html>
