{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit {{ model_name|capfirst }}</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
    <header>
        <h1>Edit {{ model_name|capfirst }}</h1>
        <a href="{% url model_name + '_list' %}" class="btn-back">Back to {{ model_name|capfirst }} List</a>
    </header>
    <div class="container">
        <h2>Edit {{ model_name|capfirst }} Details</h2>
        <form method="POST">
            {% csrf_token %}
            <label for="name">Name</label>
            <input type="text" name="name" value="{{ record.name }}" required>
            
            {% if model_name == 'vehicle' %}
                <label for="type">Type</label>
                <input type="text" name="type" value="{{ record.type }}" required>
                <label for="brand">Brand</label>
                <input type="text" name="brand" value="{{ record.brand }}" required>
                <label for="manufacture_year">Manufacture Year</label>
                <input type="number" name="manufacture_year" value="{{ record.manufacture_year }}" required>
                <label for="registration_number">Registration Number</label>
                <input type="text" name="registration_number" value="{{ record.registration_number }}" required>
            {% endif %}
            
            {% if model_name == 'driver' %}
                <label for="first_name">First Name</label>
                <input type="text" name="first_name" value="{{ record.first_name }}" required>
                <label for="last_name">Last Name</label>
                <input type="text" name="last_name" value="{{ record.last_name }}" required>
                <label for="license_number">License Number</label>
                <input type="text" name="license_number" value="{{ record.license_number }}" required>
                <label for="birth_date">Birth Date</label>
                <input type="date" name="birth_date" value="{{ record.birth_date }}" required>
                <label for="driving_experience">Driving Experience</label>
                <input type="number" name="driving_experience" value="{{ record.driving_experience }}" required>
            {% endif %}
            
            {% if model_name == 'assignment' %}
                <label for="vehicle">Vehicle</label>
                <select name="vehicle" required>
                    {% for vehicle in vehicles %}
                        <option value="{{ vehicle.id }}" {% if vehicle.id == record.vehicle.id %}selected{% endif %}>{{ vehicle }}</option>
                    {% endfor %}
                </select>
                <label for="driver">Driver</label>
                <select name="driver" required>
                    {% for driver in drivers %}
                        <option value="{{ driver.id }}" {% if driver.id == record.driver.id %}selected{% endif %}>{{ driver }}</option>
                    {% endfor %}
                </select>
                <label for="assignment_date">Assignment Date</label>
                <input type="date" name="assignment_date" value="{{ record.assignment_date }}" required>
                <label for="return_date">Return Date</label>
                <input type="date" name="return_date" value="{{ record.return_date }}">
            {% endif %}
            
            <button type="submit">Save</button>
        </form>
    </div>
</body>
</html>
